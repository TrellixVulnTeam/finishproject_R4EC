{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\piotr\\\\Desktop\\\\Kodilla\\\\28. Projekt ko\\u0144cowy\\\\src\\\\components\\\\features\\\\CartModal\\\\CartModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { removeModal, getModal } from '../../../redux/modalRedux.js';\nimport { getCartData, fetchCart } from '../../../redux/cartRedux.js';\nimport Drawer from '@material-ui/core/Drawer';\nimport { CartBox } from '../../features/CartBox/CartBox';\nimport styles from './CartModal.module.scss';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Component = ({\n  removeModal,\n  modalData,\n  cartData,\n  fetchCart\n}) => {\n  _s();\n\n  useEffect(() => {\n    fetchCart(cartData);\n  }, [cartData]);\n  let price = 0;\n  cartData.map(data => price += data.price * data.quantity); // if (cartData.length > 0) {\n  //   localStorage.setItem('cart', JSON.stringify(cartData));\n  // }\n  // const cartProductsLocalStorage = JSON.parse(localStorage.getItem('cart'));\n  // console.log(cartProductsLocalStorage)\n\n  return /*#__PURE__*/_jsxDEV(Drawer, {\n    anchor: \"right\",\n    open: modalData,\n    onClose: () => removeModal(),\n    className: styles.cart,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.cartHeader,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => removeModal(),\n        children: '>'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.cartMain,\n      children: cartData.map((data, index) => /*#__PURE__*/_jsxDEV(CartBox, {\n        data: data\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.priceWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Subtotal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"$\", price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.cartFooter,\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/cart\",\n        onClick: removeModal,\n        children: \"View Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Component, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Component;\nComponent.propTypes = {\n  addModal: PropTypes.func,\n  removeModal: PropTypes.func,\n  fetchCart: PropTypes.func,\n  modalData: PropTypes.bool,\n  cartData: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n  modalData: getModal(state),\n  cartData: getCartData(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  removeModal: () => dispatch(removeModal()),\n  fetchCart: arg => dispatch(fetchCart(arg))\n});\n\nconst Container = connect(mapStateToProps, mapDispatchToProps)(Component);\nexport { Container as CartModal, Component as CartModalComponent };\n\nvar _c;\n\n$RefreshReg$(_c, \"Component\");","map":{"version":3,"sources":["C:/Users/piotr/Desktop/Kodilla/28. Projekt koÅ„cowy/src/components/features/CartModal/CartModal.js"],"names":["React","useEffect","PropTypes","connect","removeModal","getModal","getCartData","fetchCart","Drawer","CartBox","styles","Link","Component","modalData","cartData","price","map","data","quantity","cart","cartHeader","cartMain","index","priceWrapper","cartFooter","propTypes","addModal","func","bool","array","mapStateToProps","state","mapDispatchToProps","dispatch","arg","Container","CartModal","CartModalComponent"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport { removeModal, getModal } from '../../../redux/modalRedux.js';\nimport { getCartData, fetchCart } from '../../../redux/cartRedux.js';\nimport Drawer from '@material-ui/core/Drawer';\nimport { CartBox } from '../../features/CartBox/CartBox';\nimport styles from './CartModal.module.scss';\nimport { Link } from 'react-router-dom';\n\nconst Component = ({ removeModal, modalData, cartData, fetchCart }) => {\n  useEffect(()=>{\n    fetchCart(cartData)\n  }, [cartData])\n  let price = 0;\n  cartData.map(data => price += (data.price * data.quantity));\n  // if (cartData.length > 0) {\n  //   localStorage.setItem('cart', JSON.stringify(cartData));\n  // }\n  // const cartProductsLocalStorage = JSON.parse(localStorage.getItem('cart'));\n  // console.log(cartProductsLocalStorage)\n  return (\n    <Drawer anchor='right' open={modalData} onClose={() => removeModal()} className={styles.cart}>\n      <div className={styles.cartHeader}>\n        <span onClick={() => removeModal()}>{'>'}</span>\n        <h2>Cart</h2>\n      </div>\n      <div className={styles.cartMain}>\n        {cartData.map((data, index) =>\n          <CartBox key={index} data={data} />)}\n      </div>\n      <div className={styles.priceWrapper}>\n        <h3>Subtotal</h3>\n        <h3>${price}</h3>\n      </div>\n      <div className={styles.cartFooter}>\n        <Link to='/cart' onClick={removeModal}>View Cart</Link>\n      </div>\n    </Drawer>\n  );\n};\n\nComponent.propTypes = {\n  addModal: PropTypes.func,\n  removeModal: PropTypes.func,\n  fetchCart: PropTypes.func,\n  modalData: PropTypes.bool,\n  cartData: PropTypes.array,\n};\n\nconst mapStateToProps = state => ({\n  modalData: getModal(state),\n  cartData: getCartData(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  removeModal: () => dispatch(removeModal()),\n  fetchCart: (arg) => dispatch(fetchCart(arg))\n});\n\nconst Container = connect(mapStateToProps, mapDispatchToProps)(Component);\n\nexport {\n  Container as CartModal,\n  Component as CartModalComponent,\n};\n"]},"metadata":{},"sourceType":"module"}