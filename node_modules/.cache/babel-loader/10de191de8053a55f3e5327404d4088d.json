{"ast":null,"code":"import _objectSpread from\"C:/Users/piotr/Desktop/Formula-1-shop-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{USER_URL}from'../config';import Axios from'axios';export var getUser=function getUser(_ref){var user=_ref.user;return user.data;};var reducerName='user';var createActionName=function createActionName(name){return\"app/\".concat(reducerName,\"/\").concat(name);};var FETCH_SUCCESS=createActionName('FETCH_SUCCESS');var FETCH_START=createActionName('FETCH_START');var FETCH_ERROR=createActionName('FETCH_ERROR');var fetchSuccess=function fetchSuccess(payload){return{payload:payload,type:FETCH_SUCCESS};};export var fetchStarted=function fetchStarted(payload){return{payload:payload,type:FETCH_START};};export var fetchError=function fetchError(payload){return{payload:payload,type:FETCH_ERROR};};export var fetchUser=function fetchUser(){return function(dispatch,getState){dispatch(fetchStarted());Axios.get(\"\".concat(USER_URL,\"/logged\")).then(function(res){dispatch(fetchSuccess(res.data));}).catch(function(err){dispatch(fetchError(err.message||true));});};};export var reducer=function reducer(){var statePart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};switch(action.type){case FETCH_SUCCESS:{return{data:action.payload,loading:{active:false,error:false}};}case FETCH_START:{return _objectSpread(_objectSpread({},statePart),{},{loading:{active:true,error:false}});}case FETCH_ERROR:{return _objectSpread(_objectSpread({},statePart),{},{loading:{active:false,error:action.payload}});}default:return statePart;}};","map":{"version":3,"sources":["C:/Users/piotr/Desktop/Formula-1-shop-master/src/redux/userRedux.js"],"names":["USER_URL","Axios","getUser","user","data","reducerName","createActionName","name","FETCH_SUCCESS","FETCH_START","FETCH_ERROR","fetchSuccess","payload","type","fetchStarted","fetchError","fetchUser","dispatch","getState","get","then","res","catch","err","message","reducer","statePart","action","loading","active","error"],"mappings":"kKAAA,OAASA,QAAT,KAAyB,WAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,UAAEC,CAAAA,IAAF,MAAEA,IAAF,OAAYA,CAAAA,IAAI,CAACC,IAAjB,EAAhB,CAEP,GAAMC,CAAAA,WAAW,CAAG,MAApB,CACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,IAAI,sBAAWF,WAAX,aAA0BE,IAA1B,GAA7B,CAEA,GAAMC,CAAAA,aAAa,CAAGF,gBAAgB,CAAC,eAAD,CAAtC,CACA,GAAMG,CAAAA,WAAW,CAAGH,gBAAgB,CAAC,aAAD,CAApC,CACA,GAAMI,CAAAA,WAAW,CAAGJ,gBAAgB,CAAC,aAAD,CAApC,CAEA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,OAAO,QAAK,CAAEA,OAAO,CAAPA,OAAF,CAAWC,IAAI,CAAEL,aAAjB,CAAL,EAA5B,CACA,MAAO,IAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAF,OAAO,QAAK,CAAEA,OAAO,CAAPA,OAAF,CAAWC,IAAI,CAAEJ,WAAjB,CAAL,EAA5B,CACP,MAAO,IAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAH,OAAO,QAAK,CAAEA,OAAO,CAAPA,OAAF,CAAWC,IAAI,CAAEH,WAAjB,CAAL,EAA1B,CAEP,MAAO,IAAMM,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC7B,MAAO,UAACC,QAAD,CAAWC,QAAX,CAAwB,CAC7BD,QAAQ,CAACH,YAAY,EAAb,CAAR,CAEAb,KAAK,CAACkB,GAAN,WAAanB,QAAb,aACGoB,IADH,CACQ,SAAAC,GAAG,CAAI,CACXJ,QAAQ,CAACN,YAAY,CAACU,GAAG,CAACjB,IAAL,CAAb,CAAR,CACD,CAHH,EAIGkB,KAJH,CAIS,SAAAC,GAAG,CAAI,CACZN,QAAQ,CAACF,UAAU,CAACQ,GAAG,CAACC,OAAJ,EAAe,IAAhB,CAAX,CAAR,CACD,CANH,EAOD,CAVD,CAWD,CAZM,CAcP,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAiC,IAAhCC,CAAAA,SAAgC,2DAApB,EAAoB,IAAhBC,CAAAA,MAAgB,2DAAP,EAAO,CACtD,OAAQA,MAAM,CAACd,IAAf,EACE,IAAKL,CAAAA,aAAL,CAAoB,CAClB,MAAO,CACLJ,IAAI,CAAEuB,MAAM,CAACf,OADR,CAELgB,OAAO,CAAE,CACPC,MAAM,CAAE,KADD,CAEPC,KAAK,CAAE,KAFA,CAFJ,CAAP,CAOD,CACD,IAAKrB,CAAAA,WAAL,CAAkB,CAChB,sCACKiB,SADL,MAEEE,OAAO,CAAE,CACPC,MAAM,CAAE,IADD,CAEPC,KAAK,CAAE,KAFA,CAFX,GAOD,CACD,IAAKpB,CAAAA,WAAL,CAAkB,CAChB,sCACKgB,SADL,MAEEE,OAAO,CAAE,CACPC,MAAM,CAAE,KADD,CAEPC,KAAK,CAAEH,MAAM,CAACf,OAFP,CAFX,GAOD,CACD,QAAS,MAAOc,CAAAA,SAAP,CA5BX,CA8BD,CA/BM","sourcesContent":["import { USER_URL } from '../config';\nimport Axios from 'axios';\n\nexport const getUser = ({user}) => user.data;\n\nconst reducerName = 'user';\nconst createActionName = name => `app/${reducerName}/${name}`;\n\nconst FETCH_SUCCESS = createActionName('FETCH_SUCCESS');\nconst FETCH_START = createActionName('FETCH_START');\nconst FETCH_ERROR = createActionName('FETCH_ERROR');\n\nconst fetchSuccess = payload => ({ payload, type: FETCH_SUCCESS });\nexport const fetchStarted = payload => ({ payload, type: FETCH_START });\nexport const fetchError = payload => ({ payload, type: FETCH_ERROR });\n\nexport const fetchUser = () => {\n  return (dispatch, getState) => {\n    dispatch(fetchStarted());\n\n    Axios.get(`${USER_URL}/logged`)\n      .then(res => {\n        dispatch(fetchSuccess(res.data))\n      })\n      .catch(err => {\n        dispatch(fetchError(err.message || true))\n      })\n  }\n}\n\nexport const reducer = (statePart = {}, action = {}) => {\n  switch (action.type) {\n    case FETCH_SUCCESS: {\n      return {\n        data: action.payload,\n        loading: {\n          active: false,\n          error: false,\n        },\n      }\n    }\n    case FETCH_START: {\n      return {\n        ...statePart,\n        loading: {\n          active: true,\n          error: false,\n        },\n      };\n    }\n    case FETCH_ERROR: {\n      return {\n        ...statePart,\n        loading: {\n          active: false,\n          error: action.payload,\n        },\n      };\n    }\n    default: return statePart\n  }\n}"]},"metadata":{},"sourceType":"module"}