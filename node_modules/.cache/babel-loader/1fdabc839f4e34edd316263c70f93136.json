{"ast":null,"code":"import React,{useEffect}from'react';import{connect}from'react-redux';import{removeModal as _removeModal,getModal}from'../../../redux/modalRedux.js';import{getCartData,fetchCart as _fetchCart}from'../../../redux/cartRedux.js';import Drawer from'@material-ui/core/Drawer';import{CartBox}from'../../features/CartBox/CartBox';import styles from'./CartModal.module.scss';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Component=function Component(_ref){var removeModal=_ref.removeModal,modalData=_ref.modalData,cartData=_ref.cartData,fetchCart=_ref.fetchCart;useEffect(function(){fetchCart(cartData);},[cartData]);var price=0;cartData.map(function(data){return price+=data.price*data.quantity;});// if (cartData.length > 0) {\n//   localStorage.setItem('cart', JSON.stringify(cartData));\n// }\n// const cartProductsLocalStorage = JSON.parse(localStorage.getItem('cart'));\n// console.log(cartProductsLocalStorage)\nreturn/*#__PURE__*/_jsxs(Drawer,{anchor:\"right\",open:modalData,onClose:function onClose(){return removeModal();},className:styles.cart,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.cartHeader,children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return removeModal();},children:'>'}),/*#__PURE__*/_jsx(\"h2\",{children:\"Cart\"})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.cartMain,children:cartData.map(function(data,index){return/*#__PURE__*/_jsx(CartBox,{data:data},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.priceWrapper,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"$\",price]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.cartFooter,children:/*#__PURE__*/_jsx(Link,{to:\"/cart\",onClick:removeModal,children:\"View Cart\"})})]});};var mapStateToProps=function mapStateToProps(state){return{modalData:getModal(state),cartData:getCartData(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{removeModal:function removeModal(){return dispatch(_removeModal());},fetchCart:function fetchCart(arg){return dispatch(_fetchCart(arg));}};};var Container=connect(mapStateToProps,mapDispatchToProps)(Component);export{Container as CartModal,Component as CartModalComponent};","map":{"version":3,"sources":["C:/Users/piotr/Desktop/Kodilla/28. Projekt koÅ„cowy/src/components/features/CartModal/CartModal.js"],"names":["React","useEffect","connect","removeModal","getModal","getCartData","fetchCart","Drawer","CartBox","styles","Link","Component","modalData","cartData","price","map","data","quantity","cart","cartHeader","cartMain","index","priceWrapper","cartFooter","mapStateToProps","state","mapDispatchToProps","dispatch","arg","Container","CartModal","CartModalComponent"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CAGA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,WAAW,GAAXA,CAAAA,YAAT,CAAsBC,QAAtB,KAAsC,8BAAtC,CACA,OAASC,WAAT,CAAsBC,SAAS,GAATA,CAAAA,UAAtB,KAAuC,6BAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,OAAT,KAAwB,gCAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAqD,IAAlDR,CAAAA,WAAkD,MAAlDA,WAAkD,CAArCS,SAAqC,MAArCA,SAAqC,CAA1BC,QAA0B,MAA1BA,QAA0B,CAAhBP,SAAgB,MAAhBA,SAAgB,CACrEL,SAAS,CAAC,UAAI,CACZK,SAAS,CAACO,QAAD,CAAT,CACD,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAGA,GAAIC,CAAAA,KAAK,CAAG,CAAZ,CACAD,QAAQ,CAACE,GAAT,CAAa,SAAAC,IAAI,QAAIF,CAAAA,KAAK,EAAKE,IAAI,CAACF,KAAL,CAAaE,IAAI,CAACC,QAAhC,EAAjB,EACA;AACA;AACA;AACA;AACA;AACA,mBACE,MAAC,MAAD,EAAQ,MAAM,CAAC,OAAf,CAAuB,IAAI,CAAEL,SAA7B,CAAwC,OAAO,CAAE,yBAAMT,CAAAA,WAAW,EAAjB,EAAjD,CAAsE,SAAS,CAAEM,MAAM,CAACS,IAAxF,wBACE,aAAK,SAAS,CAAET,MAAM,CAACU,UAAvB,wBACE,aAAM,OAAO,CAAE,yBAAMhB,CAAAA,WAAW,EAAjB,EAAf,UAAqC,GAArC,EADF,cAEE,4BAFF,GADF,cAKE,YAAK,SAAS,CAAEM,MAAM,CAACW,QAAvB,UACGP,QAAQ,CAACE,GAAT,CAAa,SAACC,IAAD,CAAOK,KAAP,qBACZ,KAAC,OAAD,EAAqB,IAAI,CAAEL,IAA3B,EAAcK,KAAd,CADY,EAAb,CADH,EALF,cASE,aAAK,SAAS,CAAEZ,MAAM,CAACa,YAAvB,wBACE,gCADF,cAEE,0BAAMR,KAAN,GAFF,GATF,cAaE,YAAK,SAAS,CAAEL,MAAM,CAACc,UAAvB,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,CAAiB,OAAO,CAAEpB,WAA1B,uBADF,EAbF,GADF,CAmBD,CA9BD,CAwCA,GAAMqB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAChCb,SAAS,CAAER,QAAQ,CAACqB,KAAD,CADa,CAEhCZ,QAAQ,CAAER,WAAW,CAACoB,KAAD,CAFW,CAAL,EAA7B,CAKA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACtCxB,WAAW,CAAE,6BAAMwB,CAAAA,QAAQ,CAACxB,YAAW,EAAZ,CAAd,EADyB,CAEtCG,SAAS,CAAE,mBAACsB,GAAD,QAASD,CAAAA,QAAQ,CAACrB,UAAS,CAACsB,GAAD,CAAV,CAAjB,EAF2B,CAAL,EAAnC,CAKA,GAAMC,CAAAA,SAAS,CAAG3B,OAAO,CAACsB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6Cf,SAA7C,CAAlB,CAEA,OACEkB,SAAS,GAAIC,CAAAA,SADf,CAEEnB,SAAS,GAAIoB,CAAAA,kBAFf","sourcesContent":["import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport { removeModal, getModal } from '../../../redux/modalRedux.js';\nimport { getCartData, fetchCart } from '../../../redux/cartRedux.js';\nimport Drawer from '@material-ui/core/Drawer';\nimport { CartBox } from '../../features/CartBox/CartBox';\nimport styles from './CartModal.module.scss';\nimport { Link } from 'react-router-dom';\n\nconst Component = ({ removeModal, modalData, cartData, fetchCart }) => {\n  useEffect(()=>{\n    fetchCart(cartData)\n  }, [cartData])\n  let price = 0;\n  cartData.map(data => price += (data.price * data.quantity));\n  // if (cartData.length > 0) {\n  //   localStorage.setItem('cart', JSON.stringify(cartData));\n  // }\n  // const cartProductsLocalStorage = JSON.parse(localStorage.getItem('cart'));\n  // console.log(cartProductsLocalStorage)\n  return (\n    <Drawer anchor='right' open={modalData} onClose={() => removeModal()} className={styles.cart}>\n      <div className={styles.cartHeader}>\n        <span onClick={() => removeModal()}>{'>'}</span>\n        <h2>Cart</h2>\n      </div>\n      <div className={styles.cartMain}>\n        {cartData.map((data, index) =>\n          <CartBox key={index} data={data} />)}\n      </div>\n      <div className={styles.priceWrapper}>\n        <h3>Subtotal</h3>\n        <h3>${price}</h3>\n      </div>\n      <div className={styles.cartFooter}>\n        <Link to='/cart' onClick={removeModal}>View Cart</Link>\n      </div>\n    </Drawer>\n  );\n};\n\nComponent.propTypes = {\n  addModal: PropTypes.func,\n  removeModal: PropTypes.func,\n  fetchCart: PropTypes.func,\n  modalData: PropTypes.bool,\n  cartData: PropTypes.array,\n};\n\nconst mapStateToProps = state => ({\n  modalData: getModal(state),\n  cartData: getCartData(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  removeModal: () => dispatch(removeModal()),\n  fetchCart: (arg) => dispatch(fetchCart(arg))\n});\n\nconst Container = connect(mapStateToProps, mapDispatchToProps)(Component);\n\nexport {\n  Container as CartModal,\n  Component as CartModalComponent,\n};\n"]},"metadata":{},"sourceType":"module"}